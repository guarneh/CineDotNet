@model CIneDotNet.Models.Usuario;
@{
    ViewData["Title"] = "MisDatos";
}

<h1>MisDatos</h1>

<div class="row">
    <div class="col-6">
        <div>
            <table class="table">
                <thead>
                    <tr>
                        <th>
                            Sala
                        </th>
                        <th>
                            Pelicula
                        </th>
                        <th>
                            Fecha
                        </th>
                        <th>
                            Clientes
                        </th>
                        <th>
                           Costo
                        </th>
                       
                        <th>
                            
                        </th>
                    </tr>
                </thead>
                <tbody> 
                    @foreach (var item in Model.MisFunciones.Where(f => f.fecha >= DateTime.Now))
                    {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.miSala.ubicacion)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.miPelicula.Nombre)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.fecha)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.cantClientes)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.costo)
                            </td>
                            <td>
                                <form asp-action="DevolverEntrada" asp-controller="usuarios" method="post">
                                    <input type="hidden" name="idFuncion" value="@item.ID">
                                    <input type="number" name="cantEntradas">
                                    <button type="submit">Devolver entradas</button>
                                </form>
                                
                                
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>



    </div>
    <div class="col-6">
        <h2>Nombre: @Html.DisplayFor(u => u.Nombre)</h2>
        <h2>Apellido: @Html.DisplayFor(u => u.Apellido)</h2>
        <h2>DNI: @Html.DisplayFor(u => u.DNI)</h2>
        <h2>Credito: @Html.DisplayFor(u => u.Credito)</h2>
        <form asp-action="CargarCredito" asp-controller="usuarios" method="post">
            <input type="number" name="credito">
            <button type="submit">Cargar Credito</button>
        </form>
        
    </div>
</div>